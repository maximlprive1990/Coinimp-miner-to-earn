<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Deadspot Clicker Mining</title>

<style>
body {
    background:#0b0b12;
    color:#d8c4ff;
    font-family: Arial, sans-serif;
    text-align:center;
}
h1 { color:#a66cff; }

.panel {
    background:#151522;
    padding:15px;
    margin:10px auto;
    border-radius:10px;
    max-width:720px;
}

button {
    background:#7b3fff;
    color:white;
    padding:14px 30px;
    border:none;
    border-radius:8px;
    font-size:20px;
    cursor:pointer;
}
button:hover { background:#9c6bff; }

.miner {
    border:1px solid #3a2a55;
    border-radius:8px;
    padding:10px;
    margin:10px;
}

#clickEffect {
    font-size:22px;
    color:#5cff8a;
    height:30px;
    margin-top:10px;
    transition:opacity 0.4s;
}
</style>
</head>

<body>

<h1>ðŸš€ Deadspot Click & Mine</h1>

<div class="panel">
    <p><b>Points Click :</b> <span id="points">0.000000</span></p>
    <p><b>Deadspot :</b> <span id="deadspot">0.00</span></p>
    <p><b>Puissance :</b> <span id="power">0</span> GH/s</p>
    <p><b>Bloc nÂ° :</b> <span id="blockCount">0</span></p>
    <p><b>Prochain bloc :</b> <span id="timer">30:00</span></p>
</div>

<div class="panel">
    <h2>Clicker</h2>
    <button onclick="clickGain()">CLICK</button>
    <div id="clickEffect"></div>
    <p>Gain par clic : 0.000100 â†’ 0.002000</p>
</div>

<div class="panel">
    <h2>Mineurs</h2>

    <div class="miner">
        <b>CPU Miner</b><br>
        +5 GH/s<br>
        Prix : 0.05 Points<br>
        <button onclick="buyMiner(0.05, 5)">Acheter</button>
    </div>

    <div class="miner">
        <b>GPU Miner</b><br>
        +50 GH/s<br>
        Prix : 1 Point<br>
        <button onclick="buyMiner(1, 50)">Acheter</button>
    </div>

    <div class="miner">
        <b>ASIC Miner</b><br>
        +1 TH/s (1000 GH/s)<br>
        Prix : 15 Points<br>
        <button onclick="buyMiner(15, 1000)">Acheter</button>
    </div>
</div>

<script>
let game = JSON.parse(localStorage.getItem("deadspot_save")) || {
    points: 0,
    deadspot: 0,
    power: 0,
    lastBlock: Date.now(),
    blocks: 0
};

function save() {
    localStorage.setItem("deadspot_save", JSON.stringify(game));
}

/* ===== CLICK ===== */
function clickGain() {
    let gain = Math.random() * (0.002 - 0.0001) + 0.0001;
    game.points += gain;

    let fx = document.getElementById("clickEffect");
    fx.innerText = "+" + gain.toFixed(6) + " Points";
    fx.style.opacity = 1;
    setTimeout(() => fx.style.opacity = 0, 400);

    update();
}

/* ===== ACHAT ===== */
function buyMiner(cost, power) {
    if (game.points >= cost) {
        game.points -= cost;
        game.power += power;
        update();
    } else {
        alert("Points insuffisants");
    }
}

/* ===== MINAGE ===== */
const BLOCK_TIME = 1800000;

function mine() {
    if (game.power <= 0) return;

    let now = Date.now();
    let elapsed = now - game.lastBlock;

    if (elapsed >= BLOCK_TIME) {
        let blocks = Math.floor(elapsed / BLOCK_TIME);

        for (let i = 0; i < blocks; i++) {
            let base = Math.random() * (60 - 30) + 30;
            let reward = base * (game.power / 100);
            game.deadspot += reward;
            game.blocks++;
        }

        game.lastBlock += blocks * BLOCK_TIME;
        save();
    }
}

/* ===== TIMER ===== */
function updateTimer() {
    let remaining = BLOCK_TIME - (Date.now() - game.lastBlock);
    if (remaining < 0) remaining = 0;

    let m = Math.floor(remaining / 60000);
    let s = Math.floor((remaining % 60000) / 1000);

    document.getElementById("timer").innerText =
        String(m).padStart(2, "0") + ":" + String(s).padStart(2, "0");
}

/* ===== UI ===== */
function update() {
    document.getElementById("points").innerText = game.points.toFixed(6);
    document.getElementById("deadspot").innerText = game.deadspot.toFixed(2);
    document.getElementById("power").innerText = game.power;
    document.getElementById("blockCount").innerText = game.blocks;
    save();
}

setInterval(() => {
    mine();
    updateTimer();
    update();
}, 1000);

update();

</script>
</body>
</html>
